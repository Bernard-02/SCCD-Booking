/* ===== 教室租借狀況時間軸設計 ===== */

/* 主容器 */
.classroom-status-wrapper {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 4rem;
  padding: 3rem 2rem;
  position: relative;
}

/* 每一行教室 */
.classroom-row {
  display: grid;
  grid-template-columns: 1fr 6fr;
  gap: 1rem;
}

/* ===== 左側：租借狀態區塊 ===== */
.classroom-status {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  gap: 0.5rem;
  padding: 1rem 0;
  background-color: transparent;
}

/* 狀態指示器 */
.status-indicator {
  font-family: 'Noto Sans TC', sans-serif;
  font-weight: 500;
  color: var(--color-success);
  text-align: left;
  transition: color 0.3s ease;
}

/* 已借出狀態 */
.status-indicator.rented {
  color: var(--color-error);
}

/* 教室名稱標籤 */
.classroom-label {
  font-family: 'Noto Sans TC', sans-serif;
  font-size: 2rem;
  font-weight: 500;
  color: var(--color-white);
  text-align: left;
  line-height: 1.2;
}

/* ===== 右側：時間軸區塊 ===== */
.classroom-timeline {
  position: relative;
  width: 100%;
  padding: 1rem 0 3rem 0;
}

/* 時間格子容器 */
.timeline-slots {
  display: grid;
  grid-template-columns: repeat(24, minmax(0, 1fr));
  gap: 1.5rem;
  margin-bottom: 0;
  padding: 0 1rem;
  position: relative;
  z-index: 2;
  align-items: flex-end;
}

/* 單個時間格子 */
.time-slot {
  width: 100%;
  aspect-ratio: 1 / 2;
  background-color: var(--color-success);
  border: none;
  transition: all 0.3s ease;
  position: relative;
}

/* 當前時間的格子 - 1.5倍高 */
.time-slot.current-hour {
  aspect-ratio: 1 / 3;
}

/* 6AM-7AM 的清潔時段格子 (只有兩個格子: hour 6, 7) */
.time-slot[data-hour="6"],
.time-slot[data-hour="7"] {
  background-color: var(--color-gray-scale5);
}

/* 格子 hover 效果 */
.time-slot:hover {
  filter: brightness(0.7);
  transform: translateY(-2px);
}

/* 已被租借的時間格子 */
.time-slot.occupied {
  background-color: var(--color-error);
}

.time-slot.occupied:hover {
  filter: brightness(0.7);
}

/* 時間軸線 */
.timeline-axis {
  position: absolute;
  left: 0;
  right: 0;
  height: 1px;
  background-color: var(--color-gray-scale5);
  bottom: 2rem;
  z-index: 1;
}

/* 時間標籤容器 - 使用 grid 對齊 */
.timeline-labels {
  display: grid;
  grid-template-columns: repeat(24, minmax(0, 1fr));
  gap: 1.5rem;
  padding: 0 1rem;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
}

/* 夜間使用許可時段標籤 */
.night-time-label {
  grid-column: 19 / 25;  /* 從第19格（12AM）到第25格（5AM之後） */
  display: flex;
  justify-content: center;
  align-items: flex-start;
  font-family: 'Noto Sans TC', sans-serif;
  color: var(--color-gray-scale3);
  white-space: nowrap;
  pointer-events: none;
}

/* 單個時間標籤格子 */
.time-label-slot {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  position: relative;
  bottom: -2.7rem;
}

/* 為每個時間標籤格子指定 grid 位置，避免被夜間標籤影響 */
.time-label-slot:nth-child(1) { grid-column: 1; }
.time-label-slot:nth-child(2) { grid-column: 2; }
.time-label-slot:nth-child(3) { grid-column: 3; }
.time-label-slot:nth-child(4) { grid-column: 4; }
.time-label-slot:nth-child(5) { grid-column: 5; }
.time-label-slot:nth-child(6) { grid-column: 6; }
.time-label-slot:nth-child(7) { grid-column: 7; }
.time-label-slot:nth-child(8) { grid-column: 8; }
.time-label-slot:nth-child(9) { grid-column: 9; }
.time-label-slot:nth-child(10) { grid-column: 10; }
.time-label-slot:nth-child(11) { grid-column: 11; }
.time-label-slot:nth-child(12) { grid-column: 12; }
.time-label-slot:nth-child(13) { grid-column: 13; }
.time-label-slot:nth-child(14) { grid-column: 14; }
.time-label-slot:nth-child(15) { grid-column: 15; }
.time-label-slot:nth-child(16) { grid-column: 16; }
.time-label-slot:nth-child(17) { grid-column: 17; }
.time-label-slot:nth-child(18) { grid-column: 18; }
.time-label-slot:nth-child(19) { grid-column: 19; }
.time-label-slot:nth-child(20) { grid-column: 20; }
.time-label-slot:nth-child(21) { grid-column: 21; }
.time-label-slot:nth-child(22) { grid-column: 22; }
.time-label-slot:nth-child(23) { grid-column: 23; }
.time-label-slot:nth-child(24) { grid-column: 24; }

/* 時間標籤文字 */
.time-label {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  color: var(--color-gray-scale3);
  white-space: nowrap;
  position: relative;
  padding-top: 1rem;
}

/* 時間標籤上方的短直線 */
.time-label::before {
  content: '';
  position: absolute;
  left: 50%;
  top: -0.05rem;
  transform: translateX(-50%);
  width: 1px;
  height: 0.5rem;
  background-color: var(--color-gray-scale5);
}

/* NOW 時間指示器 */
.now-indicator {
  position: absolute;
  top: 1rem;
  bottom: 1rem;
  width: 1px;
  background-color: var(--color-gray-scale3);
  z-index: 1;
  pointer-events: none;
  transition: left 0.3s ease;
}

/* NOW 標籤 */
.now-label {
  position: absolute;
  top: -2.5rem;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  color: var(--color-gray-scale3);
  white-space: nowrap;
}

/* ===== 時間格子 Tooltip ===== */
.time-slot-tooltip {
  position: fixed;
  background-color: rgba(0, 0, 0, 0.9);
  color: var(--color-white);
  padding: 1rem;
  border-radius: 0;
  pointer-events: none;
  z-index: 1000;
  min-width: 200px;
  opacity: 0;
  transition: opacity 0.2s ease;
  font-family: 'Noto Sans TC', sans-serif;
}

.time-slot-tooltip.visible {
  opacity: 1;
}

/* Tooltip 狀態標題（小字） */
.tooltip-status {
  font-weight: 500;
  font-size: 0.875rem;
  margin-bottom: 0.5rem;
}

.tooltip-status.available {
  color: var(--color-success);
}

.tooltip-status.occupied {
  color: var(--color-error);
}

.tooltip-status.closed {
  color: var(--color-gray-scale3);
}

.tooltip-status.ended {
  color: var(--color-gray-scale3);
}

/* Tooltip 事件名稱 */
.tooltip-event {
  font-weight: 500;
  font-size: 1rem;
  margin-bottom: 0.25rem;
  color: var(--color-white);
}

/* Tooltip 描述/學號 */
.tooltip-description {
  font-weight: 400;
  font-size: 0.875rem;
  color: var(--color-gray-scale2);
  margin-bottom: 0.5rem;
}

/* Tooltip 時間 */
.tooltip-time {
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  font-size: 0.875rem;
  color: var(--color-gray-scale1);
}

/* 已過去時間段的樣式 */
.time-slot.past {
  background-color: var(--color-gray-scale4);
}

.time-slot.past.occupied {
  background-color: var(--color-gray-scale4);
}

/* 響應式設計 */
@media (max-width: 1024px) {
  .classroom-status-wrapper {
    padding: 1.5rem;
    gap: 4rem;
  }

  .classroom-row {
    grid-template-columns: 1fr 5fr;
    gap: 1rem;
  }

  .classroom-label {
    font-size: 1.5rem;
  }

  .timeline-slots {
    gap: 1rem;
    padding: 0 0.75rem;
  }

  .timeline-labels {
    gap: 1rem;
    padding: 0 0.75rem;
  }
}

@media (max-width: 768px) {
  .classroom-status-wrapper {
    gap: 3rem;
    padding: 1rem;
  }

  .classroom-row {
    grid-template-columns: 1fr 4fr;
    gap: 1rem;
  }

  .classroom-label {
    font-size: 1.25rem;
  }

  .timeline-slots {
    gap: 0.75rem;
    padding: 0 0.5rem;
  }

  .timeline-axis {
    bottom: 1.75rem;
  }

  .timeline-labels {
    gap: 0.75rem;
    padding: 0 0.5rem;
  }
}

@media (max-width: 480px) {
  .classroom-status-wrapper {
    padding: 0.5rem;
    gap: 2rem;
  }

  .classroom-row {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .classroom-status {
    flex-direction: row;
    padding: 0.5rem 0;
    gap: 0.75rem;
  }

  .classroom-label {
    font-size: 1rem;
  }

  .timeline-slots {
    gap: 0.5rem;
    padding: 0 0.25rem;
  }

  .timeline-labels {
    gap: 0.5rem;
    padding: 0 0.25rem;
  }
}