@import "tailwindcss";

/* ===== 通用樣式 ===== */
/* 注意：顏色系統已移至 colors.css */

/* 統一容器樣式 */
.container {
  width: 100%;
  max-width: 2000px;
  margin-left: auto;
  margin-right: auto;
  padding-left: clamp(1.2rem, 2vw, 2%);
  padding-right: clamp(1.2rem, 2vw, 2%);
}

/* 選取（反白）樣式 */
::selection {
  background-color: var(--color-selection-bg);
  color: var(--color-selection-text);
}

/* 自定義checkbox樣式 */
.custom-checkbox {
  appearance: none;
  width: 1rem;
  height: 1rem;
  border: 1px solid var(--color-border-default);
  background-color: transparent;
  cursor: pointer;
  position: relative;
  margin-top: 0.3rem;
}

.custom-checkbox:checked {
  background-color: var(--color-white);
  border-color: var(--color-white);
}

.custom-checkbox:checked::after {
  content: '✓';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--color-primary);
  font-size: 1rem;
  font-weight: bold;
  font-family: Inter, sans-serif;
}

/* ===== Toast 通用樣式 ===== */
.toast, #notification {
  position: fixed;
  top: 4rem;
  right: -400px; /* 初始位置在右側外面 */
  background-color: var(--color-bg-toast);
  color: var(--color-primary);
  padding: 0.75rem 1.5rem; /* 增加 padding 讓文字有適當間距 */
  border-radius: 2px; /* 添加 1px border radius */
  z-index: 50;
  opacity: 0;
  pointer-events: none;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: fit-content; /* 寬度根據內容調整 */
  min-width: 150px; /* 設定最小寬度 */
  max-width: 600px; /* 設定最大寬度 */
  white-space: nowrap; /* 防止文字換行 */
}

/* notification 專用的 padding 樣式 */
#notification {
  padding: 0.75rem 2rem; /* 與 toast 保持一致 */
}

.toast p, #notification p {
  font-size: 0.875rem; /* text-tiny 大小 */
  font-family: 'Noto Sans TC', sans-serif;
  line-height: 1.4; /* 與 text-tiny 保持一致 */
  text-align: center;
  margin: 0;
}

.toast.error, #notification.error {
  background-color: var(--color-bg-toast-error) !important;
}

.toast.error p {
  color: var(--color-error) !important;
}

#notification.error {
  color: var(--color-error);
}

.toast.show, #notification.show {
  opacity: 1;
  right: 2rem; /* 滑入到右側 2rem 位置 */
}

/* Toast fade out 動畫 */
.toast.fade-out, #notification.fade-out {
  opacity: 0;
  right: -400px; /* 滑出到右側外面 */
  transition: all 0.3s ease-in;
}

/* ===== 按鈕選中狀態樣式 ===== */
.menu-item-wrapper.active {
  position: relative;
}

.menu-item-wrapper.active::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 6px;
  background-color: var(--color-success);
  transform: translateY(-50%);
  z-index: 10;
}

/* 狀態：已借出 選取時改為紅色中線 */
.menu-item-wrapper.red-underline.active::after {
  background-color: var(--color-error) !important;
}

/* 中文字樣之狀態按鈕：中線向下 2px 以達到視覺置中 */
#status-available .menu-item-wrapper.active::after,
#status-unavailable .menu-item-wrapper.active::after {
  top: calc(50% + 2px);
}

/* 篩選器按鈕：橫線在文字水平中間，無圓角 */
.sccd-filter-item .menu-item-wrapper.active::after {
  top: 50%; /* 橫線在文字水平中間 */
  height: 6px; /* 6px高度 */
  border-radius: 0; /* 移除圓角 */
}


/* ===== 手機版選單樣式 ===== */
.mobile-menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  background-color: var(--color-primary) !important;
  z-index: 999;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.5s ease, visibility 0.5s ease;
  display: flex;
  flex-direction: column;
}

.mobile-menu.active {
  opacity: 1;
  visibility: visible;
  background-color: var(--color-primary) !important;
}

/* ===== 響應式設計樣式 ===== */

/* 大型桌面 (1200px以下) */
@media (max-width: 1200px) {
  /* 響應式調整 */
}

/* 返回按鈕樣式 */
#back-btn {
  transition: all 0.3s ease;
}

#back-btn:hover {
  transform: scale(1.1);
}

/* 平板和手機 (767px以下) */
@media (max-width: 767px) {
  /* 防止水平滾動 */
  * {
    max-width: 100vw;
  }
  
  /* 手機版隱藏桌面導航 */
  .desktop-nav {
    display: none;
  }
  
  /* 手機版導航顯示 */
  .mobile-nav {
    display: flex;
  }
  
  /* 手機版導航文字大小 */
  .mobile-nav a,
  .mobile-nav button {
    font-size: 0.95rem !important;
  }
  
  /* 確保手機版完全隱藏 LOGIN 按鈕 */
  #login-btn {
    display: none !important;
  }
  
  /* Footer 在手機版的調整 */
  footer .container {
    max-width: 100vw;
    flex-direction: column;
    gap: 0.5rem;
    align-items: flex-start;
  }
  
  footer .container > div:first-child {
    flex-direction: column;
    gap: 0.5rem;
    align-items: flex-start;
  }
  
  footer .copyright {
    text-align: left !important;
  }
  
  /* 容器最大寬度限制 */
  .container {
    overflow-x: hidden;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
  
  /* 手機版 Toast 樣式 */
  .toast, #notification {
    top: 1rem !important;
    right: -300px !important; /* 手機版初始位置調整 */
    left: auto !important;
    bottom: auto !important;
    width: fit-content !important; /* 手機版也使用 fit-content */
    min-width: 160px !important; /* 手機版較小的最小寬度 */
    max-width: 280px !important; /* 手機版最大寬度 */
    transform: none !important;
    padding: 0.75rem 1.25rem !important; /* 手機版適當的 padding */
  }
  
  .toast.show, #notification.show {
    right: 1rem !important; /* 手機版滑入位置 */
  }
  
  .toast.fade-out, #notification.fade-out {
    right: -300px !important; /* 手機版滑出位置 */
  }
  
  .toast p, #notification p {
    font-size: 0.75rem !important; /* 手機版更小的字體 */
    line-height: 1.25 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  /* 手機版返回按鈕調整 */
  #back-btn {
    top: 1rem !important;
    left: 1rem !important;
    width: 44px !important;
    height: 44px !important;
    padding: 0.75rem !important;
  }

  #back-btn svg {
    width: 14px !important;
    height: 14px !important;
  }
}

/* 小型手機 (640px以下) */
@media (max-width: 640px) {
  /* 響應式調整 */
}

/* 超小型手機 (480px以下) */
@media (max-width: 480px) {
  /* 響應式調整 */
}

/* 確保大於768px時隱藏手機版選單 */
@media (min-width: 768px) {
  .mobile-menu { 
    display: none !important; 
  }
  
  .mobile-nav {
    display: none;
  }
}

/* ===== Header 和 Footer 全域樣式 ===== */

/* Header 樣式 */
.header-main {
  margin-top: 1.03rem;
  z-index: 1000;
}

.nav-gap {
  gap: 1.88rem;
}

.mobile-nav-gap {
  gap: 1rem;
}

.footer-gap {
  gap: 1.08rem;
}

.footer-main {
  padding: 1.5rem 0;
}

/* 確保 footer 有固定的左右 padding */
.footer-main .container {
  padding-left: 2rem;
  padding-right: 2rem;
}

.menu-gap {
  gap: 1rem;
}

/* Header menu 動畫效果 */
.header-menu {
  transition: opacity 0.3s ease;
}

.header-menu.fade-out {
  opacity: 0;
}

/* Menu item wrapper 動畫效果 */
.menu-item-wrapper {
  position: relative;
  overflow: hidden;
  display: inline-block;
  height: 1.4rem;
  line-height: 1.4rem;
}

.menu-text {
  display: block;
  transition: transform 0.3s ease;
  position: relative;
}

.menu-text-hidden {
  position: absolute;
  top: 1.4rem;
  left: 0;
  width: 100%;
  transition: transform 0.3s ease;
}

.menu-item-wrapper:hover .menu-text {
  transform: translateY(-1.4rem);
}

.menu-item-wrapper:hover .menu-text-hidden {
  transform: translateY(-1.4rem);
}

/* Page Button - 頁面內按鈕樣式（與 header 按鈕相同） */
.page-button {
  font-family: 'Inter', sans-serif;
  font-size: 1.1rem;        /* 17.6px - 與 header 相同 */
  font-weight: 500;          /* medium */
  line-height: 1.4;
  text-transform: uppercase;
  letter-spacing: 0.05em;    /* tracking-wide */
  color: #ffffff;           /* 白色 */
  background: transparent;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
}

.page-button .menu-item-wrapper {
  height: 1.4rem;           /* 與 header 相同 */
  line-height: 1.4rem;
}


/* Hero CTA Button 動畫效果 */
.hero-cta-wrapper {
  position: relative;
  overflow: hidden;
  display: inline-block;
  height: 2.8rem;  /* 2rem font-size * 1.4 line-height */
  line-height: 2.8rem;
}

.hero-cta-text {
  display: block;
  transition: transform 0.3s ease;
  position: relative;
}

.hero-cta-hidden {
  position: absolute;
  top: 2.8rem;  /* 等於 wrapper 的高度 */
  left: 0;
  width: 100%;
  transition: transform 0.3s ease;
}

.hero-cta-wrapper:hover .hero-cta-text {
  transform: translateY(-2.8rem);
}

.hero-cta-wrapper:hover .hero-cta-hidden {
  transform: translateY(-2.8rem);
}

/* ===== SCCD 通用按鈕組件系統 ===== */

/* 返回按鈕組件 */
.sccd-back-btn {
  font-family: 'Inter', sans-serif;
  color: var(--color-white);
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  transition: opacity 0.2s ease;
  text-transform: uppercase;
  text-decoration: none;
  display: inline-block;
}

.sccd-back-btn:hover {
  opacity: 0.6;
}

/* ===== SCCD 通用按鈕組件系統 ===== */

/* 基礎按鈕樣式 - 結合現有的 hero-cta-wrapper */
.sccd-btn {
  /* 外觀樣式 */
  font-family: 'Inter', sans-serif;
  text-transform: uppercase;
  color: white;
  text-decoration: none;
  display: inline-block;
  
  /* 狀態樣式 */
  cursor: pointer;
  opacity: 1;
  transition: opacity 0.3s ease;
}

/* 禁用狀態 */
.sccd-btn.disabled {
  opacity: 0.3;
  cursor: not-allowed;
}

/* 禁用狀態下的 hover 效果保留 */
.sccd-btn.disabled:hover .hero-cta-text {
  transform: translateY(-2.8rem);
}

.sccd-btn.disabled:hover .hero-cta-hidden {
  transform: translateY(-2.8rem);
}

/* ===== SCCD 通用篩選器組件系統 ===== */

/* 篩選器群組容器 */
.sccd-filter-group {
  display: flex;
  align-items: center;
  gap: 1.5rem; /* 預設間距，可以被覆蓋 */
}

/* 篩選器項目基本樣式 */
.sccd-filter-item {
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--color-white);
  font-family: 'Inter', sans-serif;
  font-weight: 400;
}

/* 篩選器變體 - 垂直排列 */
.sccd-filter-group.vertical {
  flex-direction: column;
  align-items: flex-start;
  gap: 1.5rem;
}

/* 篩選器變體 - 緊密間距 */
.sccd-filter-group.compact {
  gap: 1rem;
}

/* 篩選器變體 - 寬鬆間距 */
.sccd-filter-group.spacious {
  gap: 2rem;
}

/* ===== Copyright 彩蛋效果樣式 ===== */
.copyright {
  position: relative;
}

.copyright-original {
  transition: none;
}

.copyright-easter-egg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  white-space: nowrap;
  opacity: 0;
  font-family: 'Inter', sans-serif;
  font-size: inherit;
  letter-spacing: inherit;
}

/* 手機版選單內容區域 */
.mobile-menu-content {
  padding: 4rem 1.5rem 1.5rem 1.5rem;
  height: 100vh;
  display: flex;
  flex-direction: column;
}

/* 全局隱藏滾動條但保持滾動功能 */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

html, body {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none;
}

/* 滑鼠軌跡效果樣式 */
.mouse-trail-area {
  position: absolute;
  top: 15%;  /* 減少上方留白，增加上方空間 */
  left: 5%;  /* 左邊padding 5% */
  width: 90%; /* 減去左右padding */
  height: 55vh; /* 改為55vh的高度 */
  pointer-events: auto;
  z-index: 5;
  /* 移除 overflow: hidden 讓圖片可以超出範圍 */
  /* 調試用邊框，正式上線可移除 */
  /* border: 1px dashed rgba(255, 255, 255, 0.3); */
}

.trail-image {
  position: absolute;
  width: 20%; /* 圖片原始大小的20% */
  height: auto; /* 保持圖片原始比例 */
  object-fit: contain;
  /* 移除圓角設定 */
  pointer-events: none;
  z-index: 10; /* 設定比div更高的z-index */
  transform-origin: center center;
  opacity: 0;
  transition: opacity 0.1s ease;
  /* 移除 overflow: hidden 讓圖片可以完整顯示 */
}

.trail-image.show {
  opacity: 1;
}

/* 圖片出現時的ease動畫效果 - 移除淡入淡出 */
@keyframes imageEaseIn {
  0% {
    transform: scale(0.8) rotate(var(--rotation-angle, 0deg));
  }
  100% {
    transform: scale(1) rotate(var(--rotation-angle, 0deg));
  }
}

.trail-image.appearing {
  animation: imageEaseIn 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* .trail-image.disappearing 無需樣式 - 直接移除 */

/* ===== 設備網格樣式 ===== */

/* 主容器 */
.equipment-grid {
  width: 100%;
  height: 320px; /* 設定固定高度 */
  position: relative;
}

/* 行容器 */
.equipment-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  height: 50%;
  position: relative;
}

/* 分隔線 */
.equipment-divider {
  position: absolute;
  top: 50%;
  left: 2rem;
  right: 2rem;
  height: 1px;
  background-color: #777777;
  transform: translateY(-50%);
}

/* 設備項目 */
.equipment-item {
  padding: 2rem;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* 垂直分隔線 - 使用偽元素 */
.equipment-item-top-left::after,
.equipment-item-top::after,
.equipment-item-bottom-left::after,
.equipment-item-bottom::after {
  content: '';
  position: absolute;
  right: 0;
  top: 1rem;    /* 從頂部留 1rem 空間 */
  bottom: 1rem; /* 從底部留 1rem 空間 */
  width: 1px;
  background-color: #777777;
}

/* 最右邊的項目不需要右邊線 */
.equipment-item-top-right::after,
.equipment-item-bottom-right::after {
  display: none;
}

/* 統計信息容器 */
.equipment-stats {
  margin-top: auto;
}

/* 統計文字行 */
.equipment-stats-text {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.8rem;
}

/* Progress bar 容器 */
.equipment-progress {
  width: 100%;
  height: 6px;
  background-color: #777777;
  position: relative;
  overflow: hidden;
}

/* Progress bar 進度條 */
.equipment-progress-bar {
  height: 100%;
  width: 0%;
  background-color: #00ff80; /* 預設綠色 */
  transition: width 0.3s ease, background-color 0.3s ease;
}

/* 紅色進度條（庫存不足時） */
.equipment-progress-bar.low-stock {
  background-color: #ff448a;
}

/* 響應式設計 */
@media (max-width: 1024px) {
  .equipment-grid {
    height: 280px;
  }
  
  .equipment-item {
    padding: 1.5rem;
  }
  
  .equipment-divider {
    margin: 0 1.5rem;
  }
}

@media (max-width: 768px) {
  .equipment-grid {
    height: 240px;
  }
  
  .equipment-item {
    padding: 1rem;
  }
  
  .equipment-divider {
    margin: 0 1rem;
  }
}

@media (max-width: 480px) {
  .equipment-grid {
    height: 200px;
  }

  .equipment-item {
    padding: 0.75rem;
  }

  .equipment-divider {
    margin: 0 0.75rem;
  }
}

/* ===== 帳號狀態視覺化樣式 ===== */

.account-status-section {
  padding-bottom: 2.5rem;
  margin-bottom: 2rem;
}

.status-visualization {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
}

/* 每個狀態的列（垂直排列：圓點在上，文字在下）*/
.status-column {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
  flex: 1;
}

/* 圓點和橫線容器（使用相對定位）*/
.status-dot-container {
  position: relative;
  width: 100%;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 6px;
}

/* 圓點樣式（灰色小圓點，左右各留 7px 給橫線）*/
.status-dot {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background-color: var(--color-gray-scale4);
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  z-index: 2;
  margin: 0 7px;
}

/* 活動狀態的圓點（大圓圈，顯示 SVG 圖標，不需要 margin）*/
.status-dot.active {
  width: 36px;
  height: 36px;
  background-color: transparent;
  margin: 0;
}

/* SVG 圖標樣式 */
.status-icon {
  width: 36px;
  height: 36px;
  display: block;
}

/* 橫線樣式（使用絕對定位，從圓點右邊緣+7px 開始延伸到下一個圓點的左邊緣-7px）*/
.status-line {
  position: absolute;
  left: calc(50% + 10px + 7px);
  top: 50%;
  transform: translateY(-50%);
  width: calc(100% - 20px - 14px);
  height: 6px;
  background-color: var(--color-gray-scale4);
  z-index: 1;
}

/* 狀態標籤 */
.status-label {
  color: var(--color-gray-scale2);
  text-align: center;
  white-space: pre-line;
  line-height: 1.2;
}

/* 活動狀態的標籤 */
.status-label.active {
  font-weight: 600;
}

/* 根據狀態改變顏色 */
.status-label.active[data-status="success"] {
  color: var(--color-success);
}

.status-label.active[data-status="warning"] {
  color: var(--color-warning);
}

.status-label.active[data-status="error"] {
  color: var(--color-error);
}